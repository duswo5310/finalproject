<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 지점 mapping -->
<mapper namespace="branch">

	<!-- 지점등록  -->
	<insert id="regist">
		insert into branch values(
			branch_seq.nextval,
			#{local_no},
			#{admin_no},
			#{branch_name},
			#{branch_size},
			#{branch_room_cnt},
			#{branch_seat_cnt},
			#{branch_locker_cnt},
			'null')
	</insert>
	
	<!-- 시퀀스 생성 -->
	<select id="getSeq" resultType="int">
		SELECT branch_seq.nextval FROM dual
	</select>
	
	<!-- 지점 단일 조회 -->
	<select id="get" resultType="branchDto" parameterType="int">
		SELECT * FROM branch WHERE branch_no=#{branch_no}
	</select>
	
	<!-- 지역별 지점 조회 -->
	<select id="localBranchList" parameterType="int" resultType="branchDto">
		SELECT * FROM branch WHERE local_no=#{local_no} ORDER BY ASC
	</select>
</mapper>




